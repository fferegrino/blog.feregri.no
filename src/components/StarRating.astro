---
export interface Props {
	rating: number;
}

const { rating } = Astro.props;
const fullStars = Math.floor(rating);
const hasHalfStar = rating % 1 !== 0;
---

<div class="flex items-center space-x-0.5" aria-label={`Rating: ${rating} out of 5 stars`}>
	{[...Array(fullStars)].map((_, i) => (
		<svg class="w-5 h-5 text-yellow-400 dark:text-yellow-500 fill-current" viewBox="0 0 24 24">
			<path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" />
		</svg>
	))}
	{hasHalfStar && (
		<svg class="w-5 h-5 text-yellow-400 dark:text-yellow-500 fill-current" viewBox="0 0 24 24">
			<path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill-opacity="0.5" />
		</svg>
	)}
	{[...Array(5 - Math.ceil(rating))].map((_, i) => (
		<svg class="w-5 h-5 text-gray-300 dark:text-gray-600 fill-current" viewBox="0 0 24 24">
			<path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" />
		</svg>
	))}
	<span class="ml-2 text-sm text-gray-500 dark:text-gray-400 font-medium">
		{rating.toFixed(1)}
	</span>
</div>
